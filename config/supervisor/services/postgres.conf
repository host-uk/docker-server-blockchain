; ============================================================
; PostgreSQL Service
; ============================================================
; Database backend - MUST start first
; Data stored on NVMe (critical, backed up)
; ============================================================

[program:postgres]
command=gosu postgres postgres -D %(ENV_PGDATA)s
autostart=true
autorestart=true
priority=100
startsecs=10
startretries=3
stopwaitsecs=30
stopsignal=INT
redirect_stderr=true
stdout_logfile=/var/log/supervisor/postgres.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=3
environment=PGDATA="%(ENV_PGDATA)s"
